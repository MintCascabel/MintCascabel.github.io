<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8"/>
	<script>
		var chars = ["┃", "┛", "━", "┗", "┃", "┏", "━", "┓"];
		function mod(x, y) {
			return ((x % y) + y) % y;
		}
		function getOpeningTag(c) {
			return "<p style = \"color:hsl(" + mod(360 * c, 360) + ", 80%, 80%)\">";
		}
		function getChar(dx, dy) {
			return chars[mod(Math.floor(4 * Math.atan2(dy, dx) / Math.PI +0.5), 8)];
		}
		function dist(x0, y0, x1, y1) {
			return Math.abs(x0 - x1) + Math.abs(y0 - y1);
		}
		var closingTag = "</p>";
		function fill(x, y, pc) {
			var scale = 0.81 * y / x;
			var xarr = [];
			var yarr = [];
			var b = document.getElementById("b");
			b.innerHTML = "";
			for (var i = 0; i < pc; i++) {
				xarr.push(Math.random());
				yarr.push(scale * Math.random());
			}
			for (var i = 0; i < y; i++) {
				var s = "";
				for (var j = 0; j < x; j++) {
					var vx = j / x;
					var vy = scale * i / y
					var d = dist(vx, vy, xarr[0], yarr[0]);
					var idx = 0;
					for (var k = 1; k < pc; k++) {
						var dn = dist(vx, vy, xarr[k], yarr[k]);
						if (dn < d) {
							idx = k;
							d = dn;
						}
					}
					s += getChar(vx - xarr[idx], vy - yarr[idx]);
				}
				b.innerHTML += getOpeningTag(i / y) + s + closingTag;
			}
		}
	</script>
	<style>
		body {
			font-family:monospace;
			font-weight: bold;
			font-size: 50%;
			line-height: 0;
		}
	</style>
</head>
<body onload="fill(120, 60, 100)">
	<p id="b"></p>
	<br>
	<button onclick="fill(120, 60, 100)">Regenerate</button>
</body>